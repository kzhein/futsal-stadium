(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{100:function(e,t,a){},124:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(0),s=a.n(r),c=a(26),o=a.n(c),i=a(8),l=a(37),u=a(76),d=a(77),j=a(7),p="AVAILABLE_HOUR_REQUEST",b="AVAILABLE_HOUR_SUCCESS",h="AVAILABLE_HOUR_FAIL",O="TOGGLE_SELECTED_HOUR",m="SET_AVAILABLE_HOUR_DATE",x="USER_LOAD_REQUEST",g="USER_LOAD_SUCCESS",f="USER_LOAD_FAIL",y="USER_LOGIN_REQUEST",v="USER_LOGIN_SUCCESS",k="USER_LOGIN_FAIL",E="USER_LOGOUT",S="USER_SIGNUP_REQUEST",w="USER_SIGNUP_SUCCESS",_="USER_SIGNUP_FAIL",A="USER_DETAILS_UPDATE_REQUEST",C="USER_DETAILS_UPDATE_SUCCESS",N="USER_DETAILS_UPDATE_FAIL",L="USER_PASSWORD_UPDATE_REQUEST",I="USER_PASSWORD_UPDATE_SUCCESS",T="USER_PASSWORD_UPDATE_FAIL",U="CLEAR_AUTH_ERROR",R="CLEAR_AUTH_SUCCESS",D="BOOKING_CREATE_REQUEST",P="BOOKING_CREATE_SUCCESS",B="BOOKING_CREATE_FAIL",G="BOOKING_STATUS_RESET",F="USER_BOOKINGS_REQUEST",H="USER_BOOKINGS_SUCCESS",z="USER_BOOKINGS_FAIL",q="BOOKING_ALL_REQUEST",K="BOOKING_ALL_SUCCESS",Y="BOOKING_ALL_FAIL",M="BOOKING_ALL_RESET",Q="BOOKING_APPROVE_REQUEST",V="BOOKING_APPROVE_SUCCESS",Z="BOOKING_APPROVE_FAIL",W="BOOKING_APPROVE_RESET",J="BOOKING_DELETE_REQUEST",$="BOOKING_DELETE_SUCCESS",X="BOOKING_DELETE_FAIL",ee="BOOKING_DELETE_RESET",te="SET_MESSAGE",ae="REMOVE_MESSAGE",ne="DAY_LIST_REQUEST",re="DAY_LIST_SUCCESS",se="DAY_LIST_FAIL",ce="DAY_REQUEST",oe="DAY_SUCCESS",ie="DAY_FAIL",le="DAY_UPDATE_REQUEST",ue="DAY_UPDATE_SUCCESS",de="DAY_UPDATE_FAIL",je="CLEAR_DAY_SUCCESS",pe="CLEAR_DAY_ERROR",be=Object(l.combineReducers)({availableHourDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,date:null,availableHours:[],error:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(j.a)(Object(j.a)({},e),{},{loading:!0,availableHours:[]});case b:return Object(j.a)(Object(j.a)({},e),{},{loading:!1,availableHours:t.payload});case h:return Object(j.a)(Object(j.a)({},e),{},{loading:!1,availableHours:[],error:t.payload});case O:return Object(j.a)(Object(j.a)({},e),{},{availableHours:e.availableHours.map((function(e){return e._id===t.payload&&(e.selected=!e.selected),e}))});case m:return Object(j.a)(Object(j.a)({},e),{},{date:t.payload});default:return e}},userAuth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{token:localStorage.getItem("token"),isAuthenticated:!1,loading:!0,user:null,success:null,error:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:case y:case x:return Object(j.a)(Object(j.a)({},e),{},{isAuthenticated:!1,loading:!0,user:null,success:null,error:null});case L:case A:return Object(j.a)(Object(j.a)({},e),{},{loading:!0});case C:return Object(j.a)(Object(j.a)({},e),{},{loading:!1,user:t.payload.user,success:t.payload.success});case T:case N:return Object(j.a)(Object(j.a)({},e),{},{loading:!1,error:t.payload});case g:return Object(j.a)(Object(j.a)({},e),{},{isAuthenticated:!0,loading:!1,user:t.payload,error:null});case _:case k:case f:return Object(j.a)(Object(j.a)({},e),{},{token:null,isAuthenticated:!1,loading:!1,user:null,error:t.payload});case I:case w:case v:return{token:t.payload.token,isAuthenticated:!0,loading:!1,user:t.payload.user,success:t.payload.success,error:null};case E:return{token:null,isAuthenticated:!1,loading:!1,user:null,error:null};case U:return Object(j.a)(Object(j.a)({},e),{},{error:null});case R:return Object(j.a)(Object(j.a)({},e),{},{success:null});default:return e}},newBooking:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,success:null,error:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:return{loading:!0,success:null,error:null};case P:return{loading:!1,success:t.payload,error:null};case B:return{loading:!1,success:!1,error:t.payload};case G:return{loading:!1,success:null,error:null};default:return e}},userBookings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,bookings:[],error:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:return{loading:!0,bookings:[],error:null};case H:return{loading:!1,bookings:t.payload,error:null};case z:return{loading:!1,bookings:[],error:t.payload};default:return e}},allBookings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,bookings:[],allTotal:0,error:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q:return Object(j.a)(Object(j.a)({},e),{},{loading:!0,bookings:[],error:null});case K:return{loading:!1,bookings:t.payload.bookings,allTotal:t.payload.allTotal,error:null};case Y:return{loading:!1,bookings:[],allTotal:0,error:t.payload};case M:return{loading:!1,bookings:[],allTotal:0,error:null};default:return e}},bookingApprove:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{bookingId:null,loading:!1,error:null,success:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q:return{bookingId:t.payload,loading:!0,error:null,success:null};case V:return{bookingId:null,loading:!1,error:null,success:t.payload};case Z:return{bookingId:null,loading:!1,error:t.payload,success:null};case W:return{bookingId:null,loading:!1,error:null,success:null};default:return e}},bookingDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{bookingId:null,loading:!1,error:null,success:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J:return{bookingId:t.payload,loading:!0,error:null,success:null};case $:return{bookingId:null,loading:!1,error:null,success:t.payload};case X:return{bookingId:null,loading:!1,error:t.payload,success:null};case ee:return{bookingId:null,loading:!1,error:null,success:null};default:return e}},message:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{message:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te:return{message:t.payload};case ae:return{message:null};default:return e}},dayDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{days:[],day:null,loading:!1,error:null,success:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne:return Object(j.a)(Object(j.a)({},e),{},{days:[],loading:!0,error:null});case re:return Object(j.a)(Object(j.a)({},e),{},{days:t.payload,loading:!1,error:null});case se:return Object(j.a)(Object(j.a)({},e),{},{days:[],loading:!1,error:t.payload});case ce:return Object(j.a)(Object(j.a)({},e),{},{day:null,loading:!0,error:null});case oe:return Object(j.a)(Object(j.a)({},e),{},{day:t.payload,loading:!1,error:null});case ie:return Object(j.a)(Object(j.a)({},e),{},{day:null,loading:!1,error:t.payload});case le:return Object(j.a)(Object(j.a)({},e),{},{loading:!0,error:null,success:null});case ue:return Object(j.a)(Object(j.a)({},e),{},{day:t.payload.day,loading:!1,error:null,success:t.payload.success});case de:return Object(j.a)(Object(j.a)({},e),{},{loading:!1,error:t.payload,success:null});case je:return Object(j.a)(Object(j.a)({},e),{},{success:null});case pe:return Object(j.a)(Object(j.a)({},e),{},{error:null});default:return e}}}),he=[u.a],Oe=Object(l.createStore)(be,Object(d.composeWithDevTools)(l.applyMiddleware.apply(void 0,he))),me=(a(99),a(100),a(129)),xe=a(31),ge=a(12),fe=a(135),ye=a(137),ve=a(134),ke=a(28),Ee=a(9),Se=a.n(Ee),we=a(10),_e=a(13),Ae=a.n(_e),Ce=function(){return function(e){e({type:U})}},Ne=function(){return function(e){e({type:R})}},Le=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.userAuth})),a=t.isAuthenticated,r=t.user,s=r&&"admin"===r.role;return Object(n.jsx)("div",{children:Object(n.jsx)(fe.a,{bg:"primary",variant:"dark",expand:"lg",collapseOnSelect:!0,children:Object(n.jsxs)(me.a,{children:[Object(n.jsx)(ke.LinkContainer,{to:"/",children:Object(n.jsxs)(fe.a.Brand,{className:"d-flex align-items-center",children:[Object(n.jsx)("i",{className:"far fa-futbol mr-1",style:{fontSize:"40px"}})," ",Object(n.jsx)("span",{style:{fontSize:"30px"},children:"Futsal"})]})}),Object(n.jsx)(fe.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(n.jsx)(fe.a.Collapse,{id:"basic-navbar-nav",children:Object(n.jsx)(ye.a,{className:"ml-auto",children:a?Object(n.jsxs)(n.Fragment,{children:[s&&Object(n.jsxs)(ve.a,{title:"Manage",id:"manage",children:[Object(n.jsx)(ke.LinkContainer,{to:"/admin/days",children:Object(n.jsx)(ve.a.Item,{children:"Days"})}),Object(n.jsx)(ke.LinkContainer,{to:"/admin/bookings",children:Object(n.jsx)(ve.a.Item,{children:"Bookings"})})]}),Object(n.jsx)(ke.LinkContainer,{to:"/profile",children:Object(n.jsx)(ye.a.Link,{children:"Profile"})}),Object(n.jsx)(ke.LinkContainer,{to:"#!",children:Object(n.jsx)(ye.a.Link,{onClick:function(){return e((function(e){localStorage.removeItem("token"),e({type:E})}))},children:"Logout"})})]}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(ke.LinkContainer,{to:"/login",children:Object(n.jsx)(ye.a.Link,{children:"Login"})}),Object(n.jsx)(ke.LinkContainer,{to:"/signup",children:Object(n.jsx)(ye.a.Link,{children:"Signup"})})]})})})]})})})},Ie=a(130),Te=a(84),Ue=a(136),Re=function(e){return function(t){t({type:te,payload:e})}},De=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.message})).message;return t&&Object(n.jsx)(Ie.a,{children:Object(n.jsx)(Te.a,{md:7,className:"mx-auto mt-4",children:Object(n.jsx)(Ue.a,{variant:t.type,onClose:function(){return e((function(e){e({type:ae})}))},dismissible:!0,children:t&&t.text})})})},Pe=a(19),Be=a(87),Ge=(a(123),function(e){return function(){var t=Object(we.a)(Se.a.mark((function t(a){var n;return Se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:p}),t.next=4,Ae.a.get("/api/v1/days/available",{headers:{"x-date":e}});case 4:n=t.sent,a({type:b,payload:n.data.data.availableHours}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a({type:h,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}),Fe=function(e){var t=new Date(e);return"".concat(t.getFullYear(),"/").concat(t.getMonth()+1,"/").concat(t.getDate())},He=function(){var e=Object(r.useState)(new Date),t=Object(Pe.a)(e,2),a=t[0],s=t[1],c=Object(i.b)();return Object(r.useEffect)((function(){var e=Fe(a);c(function(e){return function(t){t({type:m,payload:e})}}(e)),c(Ge(e))}),[a,c]),Object(n.jsx)("div",{children:Object(n.jsx)(Be.a,{onChange:function(e){return s(e)},value:a,minDate:new Date})})},ze=a(131),qe=a(65),Ke=function(){return function(e){e({type:G})}},Ye=function(e,t){return function(){var a=Object(we.a)(Se.a.mark((function a(n,r){var s,c,o,i,l,u,d;return Se.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:q}),s=r(),c=s.userAuth.token,o={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c)}},a.next=6,Ae.a.get("/api/v1/bookings?limit=".concat(e,"&page=").concat(t),o);case 6:i=a.sent,l=i.data,u=l.allTotal,d=l.data.bookings,n({type:K,payload:{bookings:d,allTotal:u}}),a.next=16;break;case 13:a.prev=13,a.t0=a.catch(0),n({type:Y,payload:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 16:case"end":return a.stop()}}),a,null,[[0,13]])})));return function(e,t){return a.apply(this,arguments)}}()},Me=function(){return function(e){e({type:W})}},Qe=function(){return function(e){e({type:ee})}},Ve=function(e){var t=e.showFab,a=Object(i.b)(),s=Object(i.c)((function(e){return e.availableHourDetails})),c=s.availableHours,o=s.date,l=Object(i.c)((function(e){return e.newBooking})),u=l.loading,d=l.success,j=l.error,p=Object(i.c)((function(e){return e.userAuth})).isAuthenticated,b=Object(qe.b)({opacity:t?1:0,transform:t?"translateY(0)":"translateY(100%)"});return Object(r.useEffect)((function(){d&&(a(Re({text:d,type:"success"})),a(Ge(o)),a(Ke()))}),[d]),Object(r.useEffect)((function(){j&&(a(Re({text:j,type:"danger"})),a(Ge(o)),a(Ke()))}),[j]),Object(n.jsx)(qe.a.div,{style:b,className:"fab bg-info",onClick:function(){if(p){if(!u){var e=c.filter((function(e){return e.selected})).map((function(e){return e._id}));a((t=e,function(){var e=Object(we.a)(Se.a.mark((function e(a,n){var r,s,c,o;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:D}),r=n(),s=r.userAuth.token,c=r.availableHourDetails.date,o={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s)}},e.next=6,Ae.a.post("/api/v1/bookings",{date:c,time:t},o);case 6:a({type:P,payload:"Booking created successfully"}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),a({type:B,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}()))}}else a(Re({text:"Please log in to book",type:"warning"}));var t},children:u?Object(n.jsx)(ze.a,{as:"span",animation:"border",role:"status","aria-hidden":"true",id:"loading"}):Object(n.jsx)("i",{className:"fas fa-check"})})},Ze=function(e){var t=e.availableHour,a=Object(i.b)();return Object(n.jsx)(Te.a,{xs:6,md:4,lg:3,children:Object(n.jsxs)("div",{onClick:function(){var e;t.booked||a((e=t._id,function(t){t({type:O,payload:e})}))},className:"available-hour mx-auto text-center m-2 bg-primary text-white ".concat(t.booked?"available-hour-booked bg-danger":t.selected&&"bg-secondary"),children:[t.booked?"Booked":t.time,t.selected&&Object(n.jsx)("i",{className:"fas fa-check ml-1"})]})})},We=function(){var e=Object(i.c)((function(e){return e.availableHourDetails})),t=e.loading,a=e.availableHours;return Object(n.jsx)(Ie.a,{children:t?Object(n.jsx)(ze.a,{animation:"grow",variant:"primary",style:{width:"50px",height:"50px"},className:"mx-auto my-5"}):a.map((function(e){return Object(n.jsx)(Ze,{availableHour:e},e._id)}))})},Je=function(){var e=Object(i.c)((function(e){return e.availableHourDetails})).availableHours.find((function(e){return!0===e.selected}));return Object(n.jsxs)(Ie.a,{children:[Object(n.jsx)(Te.a,{md:5,lg:4,xl:3,children:Object(n.jsx)(He,{})}),Object(n.jsxs)(Te.a,{md:7,lg:8,xl:9,children:[Object(n.jsx)("h3",{className:"text-center mt-3",children:"Pick the sections"}),Object(n.jsx)(We,{})]}),Object(n.jsx)(Ve,{showFab:e})]})},$e=a(33),Xe=a(133),et=a(83),tt=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.userAuth})),a=t.user,s=t.loading,c=t.success,o=t.error,l=Object($e.a)(),u=l.handleSubmit,d=l.register,j=l.errors;Object(r.useEffect)((function(){c&&(e(Re({text:c,type:"success"})),e(Ne())),o&&(e(Re({text:o,type:"danger"})),e(Ce()))}),[c,o,e]);return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h3",{className:"text-center",children:"Your Account"}),Object(n.jsxs)(Xe.a,{onSubmit:u((function(t){return e((a=t,function(){var e=Object(we.a)(Se.a.mark((function e(t,n){var r,s,c,o,i;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:A}),r=n(),s=r.userAuth.token,c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s)}},e.next=6,Ae.a.patch("/api/v1/users/updateMe",a,c);case 6:o=e.sent,i=o.data.data.user,t({type:C,payload:{user:i,success:"User updated successfully"}}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:N,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}()));var a})),children:[Object(n.jsxs)(Xe.a.Group,{controlId:"name",children:[Object(n.jsx)(Xe.a.Label,{children:"Name"}),Object(n.jsx)(Xe.a.Control,{defaultValue:a&&a.name,type:"text",name:"name",placeholder:"Enter Name",ref:d({required:"Name is required"})}),j.name&&Object(n.jsx)(Xe.a.Text,{className:"text-danger",children:j.name.message})]}),Object(n.jsxs)(Xe.a.Group,{controlId:"phone",children:[Object(n.jsx)(Xe.a.Label,{children:"Phone"}),Object(n.jsx)(Xe.a.Control,{defaultValue:a&&a.phone,type:"number",name:"phone",placeholder:"Enter phone",ref:d({required:"Phone number is required"})}),j.phone&&Object(n.jsx)(Xe.a.Text,{className:"text-danger",children:j.phone.message})]}),Object(n.jsxs)(et.a,{variant:"primary",type:"submit",disabled:s,children:[s?"Loading":"Update",s&&Object(n.jsx)(ze.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"ml-1"})]})]})]})},at=a(138),nt=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.userBookings})),a=t.loading,s=t.bookings;return Object(r.useEffect)((function(){e(function(){var e=Object(we.a)(Se.a.mark((function e(t,a){var n,r,s,c,o;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:F}),n=a(),r=n.userAuth.token,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)}},e.next=6,Ae.a.get("/api/v1/bookings/getMyBookings",s);case 6:c=e.sent,o=c.data.data.bookings,t({type:H,payload:o}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:z,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}())}),[e]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h3",{className:"text-center",children:"Your Bookings"}),Object(n.jsx)(at.a,{variant:"flush",className:"text-center",children:a?Object(n.jsx)(ze.a,{animation:"grow",variant:"primary",style:{width:"50px",height:"50px"},className:"mx-auto my-5"}):0===s.length?Object(n.jsx)("p",{children:"You have no bookings"}):s.map((function(e){return Object(n.jsx)(at.a.Item,{children:Object(n.jsxs)(Ie.a,{children:[Object(n.jsx)(Te.a,{children:"".concat(Fe(e.date)," ").concat(e.time.time)}),Object(n.jsx)(Te.a,{children:Object(n.jsx)("span",{className:"pending"===e.status?"text-warning":"text-success",children:e.status})})]})},e._id)}))})]})},rt=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.userAuth})),a=t.loading,s=t.success,c=t.error,o=Object($e.a)(),l=o.handleSubmit,u=o.register,d=o.errors,j=o.getValues,p=o.reset;Object(r.useEffect)((function(){s&&(e(Re({text:s,type:"success"})),e(Ne()),p()),c&&(e(Re({text:c,type:"danger"})),e(Ce()))}),[s,c,e,p]);return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h3",{className:"text-center",children:"Update Password"}),Object(n.jsxs)(Xe.a,{onSubmit:l((function(t){return e(function(e){return function(){var t=Object(we.a)(Se.a.mark((function t(a,n){var r,s,c,o,i,l,u;return Se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:L}),r=n(),s=r.userAuth.token,c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s)}},t.next=6,Ae.a.patch("/api/v1/users/updateMyPassword",e,c);case 6:o=t.sent,i=o.data,l=i.token,u=i.data.user,a({type:I,payload:{token:l,user:u,success:"User password updated successfully"}}),localStorage.setItem("token",l),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),a({type:T,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e,a){return t.apply(this,arguments)}}()}(t))})),children:[Object(n.jsxs)(Xe.a.Group,{controlId:"currentPassword",children:[Object(n.jsx)(Xe.a.Label,{children:"Current Password"}),Object(n.jsx)(Xe.a.Control,{type:"password",name:"passwordCurrent",ref:u({required:"Password is required",minLength:{value:8,message:"Password must have at least 8 characters"}})}),d.passwordCurrent&&Object(n.jsx)(Xe.a.Text,{className:"text-danger",children:d.passwordCurrent.message})]}),Object(n.jsxs)(Xe.a.Group,{controlId:"newPassword",children:[Object(n.jsx)(Xe.a.Label,{children:"New Password"}),Object(n.jsx)(Xe.a.Control,{type:"password",name:"password",ref:u({required:"New password is required",minLength:{value:8,message:"New password must have at least 8 characters"}})}),d.password&&Object(n.jsx)(Xe.a.Text,{className:"text-danger",children:d.password.message})]}),Object(n.jsxs)(Xe.a.Group,{controlId:"newPasswordConfirm",children:[Object(n.jsx)(Xe.a.Label,{children:"Confirm New Password"}),Object(n.jsx)(Xe.a.Control,{type:"password",name:"passwordConfirm",ref:u({validate:{passwordsMatch:function(e){return e===j("password")||"Passwords do not match"}}})}),d.passwordConfirm&&Object(n.jsx)(Xe.a.Text,{className:"text-danger",children:d.passwordConfirm.message})]}),Object(n.jsxs)(et.a,{variant:"primary",type:"submit",disabled:a,children:[a?"Loading":"Update",a&&Object(n.jsx)(ze.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"ml-1"})]})]})]})},st=function(){return Object(n.jsxs)(Ie.a,{className:"mt-3",children:[Object(n.jsx)(Te.a,{md:6,className:"mb-4",children:Object(n.jsx)(nt,{})}),Object(n.jsx)(Te.a,{md:6,className:"mb-4",children:Object(n.jsx)(tt,{})}),Object(n.jsx)(Te.a,{md:6,className:"mb-4",children:Object(n.jsx)(rt,{})})]})},ct=function(){return Object(n.jsx)(Ie.a,{className:"mt-3",children:Object(n.jsxs)(Te.a,{md:6,className:"mx-auto",children:[Object(n.jsx)("h3",{className:"text-center",children:"Confirm Booking"}),Object(n.jsxs)(Xe.a,{children:[Object(n.jsxs)(Xe.a.Group,{controlId:"name",children:[Object(n.jsx)(Xe.a.Label,{children:"Name"}),Object(n.jsx)(Xe.a.Control,{type:"text",placeholder:"Enter Name"})]}),Object(n.jsxs)(Xe.a.Group,{controlId:"phone",children:[Object(n.jsx)(Xe.a.Label,{children:"Phone"}),Object(n.jsx)(Xe.a.Control,{type:"number",placeholder:"Enter phone"})]}),Object(n.jsxs)(Xe.a.Group,{controlId:"note",children:[Object(n.jsx)(Xe.a.Label,{children:"Note"}),Object(n.jsx)(Xe.a.Control,{as:"textarea",rows:4,placeholder:"Enter note"})]}),Object(n.jsx)(et.a,{variant:"primary",type:"submit",children:"Confirm"})]})]})})},ot=function(e){var t=e.location,a=e.history,s=Object(i.b)(),c=Object(i.c)((function(e){return e.userAuth})),o=c.isAuthenticated,l=c.loading,u=c.error,d=Object($e.a)(),j=d.handleSubmit,p=d.register,b=d.errors,h=(t.state||{from:{pathname:"/"}}).from;Object(r.useEffect)((function(){o&&a.push(h.pathname)}),[o,a,h.pathname]),Object(r.useEffect)((function(){u&&(s(Re({text:u,type:"danger"})),s(Ce()))}),[u,s]);return Object(n.jsx)("div",{className:"mt-3",children:Object(n.jsx)(Ie.a,{children:Object(n.jsxs)(Te.a,{md:5,className:"mx-auto",children:[Object(n.jsx)("h3",{className:"text-center",children:"Login"}),Object(n.jsxs)(Xe.a,{onSubmit:j((function(e){return s(function(e){return function(){var t=Object(we.a)(Se.a.mark((function t(a){var n,r,s,c,o;return Se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:y}),n={headers:{"Content-Type":"application/json"}},t.next=5,Ae.a.post("/api/v1/users/login",e,n);case 5:r=t.sent,s=r.data,c=s.token,o=s.data.user,a({type:v,payload:{token:c,user:o}}),localStorage.setItem("token",c),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),a({type:k,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}()}(e))})),children:[Object(n.jsxs)(Xe.a.Group,{controlId:"email",children:[Object(n.jsx)(Xe.a.Label,{children:"Email address"}),Object(n.jsx)(Xe.a.Control,{type:"text",name:"email",placeholder:"Email",ref:p({required:"Email address is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}})}),b.email&&Object(n.jsx)(Xe.a.Text,{className:"text-danger",children:b.email.message})]}),Object(n.jsxs)(Xe.a.Group,{controlId:"password",children:[Object(n.jsx)(Xe.a.Label,{children:"Password"}),Object(n.jsx)(Xe.a.Control,{type:"password",name:"password",placeholder:"Password",ref:p({required:"Password is required",minLength:{value:8,message:"Password must have at least 8 characters"}})}),b.password&&Object(n.jsx)(Xe.a.Text,{className:"text-danger",children:b.password.message})]}),Object(n.jsxs)(et.a,{variant:"primary",type:"submit",disabled:l,children:[l?"Loading":"Submit",l&&Object(n.jsx)(ze.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"ml-1"})]})]})]})})})},it=function(e){var t=e.history,a=Object(i.b)(),s=Object(i.c)((function(e){return e.userAuth})),c=s.isAuthenticated,o=s.loading,l=s.error,u=Object($e.a)(),d=u.handleSubmit,j=u.register,p=u.errors,b=u.getValues;Object(r.useEffect)((function(){c&&t.push("/")}),[c,t]),Object(r.useEffect)((function(){l&&(a(Re({text:l,type:"danger"})),a(Ce()))}),[l,a]);return Object(n.jsx)("div",{className:"mt-3",children:Object(n.jsx)(Ie.a,{children:Object(n.jsxs)(Te.a,{md:5,className:"mx-auto",children:[Object(n.jsx)("h3",{className:"text-center",children:"Sign Up"}),Object(n.jsxs)(Xe.a,{onSubmit:d((function(e){return a(function(e){return function(){var t=Object(we.a)(Se.a.mark((function t(a){var n,r,s,c,o;return Se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:S}),n={headers:{"Content-Type":"application/json"}},t.next=5,Ae.a.post("/api/v1/users/signup",e,n);case 5:r=t.sent,s=r.data,c=s.token,o=s.data.user,a({type:w,payload:{token:c,user:o}}),localStorage.setItem("token",c),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),a({type:_,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}()}(e))})),children:[Object(n.jsxs)(Xe.a.Group,{controlId:"name",children:[Object(n.jsx)(Xe.a.Label,{children:"Name"}),Object(n.jsx)(Xe.a.Control,{type:"text",name:"name",placeholder:"Name",ref:j({required:"Name is required"})}),p.name&&Object(n.jsx)(Xe.a.Text,{className:"text-danger",children:p.name.message})]}),Object(n.jsxs)(Xe.a.Group,{controlId:"email",children:[Object(n.jsx)(Xe.a.Label,{children:"Email address"}),Object(n.jsx)(Xe.a.Control,{type:"text",name:"email",placeholder:"Email",ref:j({required:"Email address is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}})}),p.email&&Object(n.jsx)(Xe.a.Text,{className:"text-danger",children:p.email.message})]}),Object(n.jsxs)(Xe.a.Group,{controlId:"phone",children:[Object(n.jsx)(Xe.a.Label,{children:"Phone Number"}),Object(n.jsx)(Xe.a.Control,{type:"number",name:"phone",placeholder:"Phone Number",ref:j({required:"Phone number is required"})}),p.phone&&Object(n.jsx)(Xe.a.Text,{className:"text-danger",children:p.phone.message})]}),Object(n.jsxs)(Xe.a.Group,{controlId:"password",children:[Object(n.jsx)(Xe.a.Label,{children:"Password"}),Object(n.jsx)(Xe.a.Control,{type:"password",name:"password",placeholder:"Password",ref:j({required:"Password is required",minLength:{value:8,message:"Password must have at least 8 characters"}})}),p.password&&Object(n.jsx)(Xe.a.Text,{className:"text-danger",children:p.password.message})]}),Object(n.jsxs)(Xe.a.Group,{controlId:"passwordConfirm",children:[Object(n.jsx)(Xe.a.Label,{children:"Password Confirm"}),Object(n.jsx)(Xe.a.Control,{type:"password",name:"passwordConfirm",placeholder:"Password Confirm",ref:j({validate:{passwordsMatch:function(e){return e===b("password")||"Passwords do not match"}}})}),p.passwordConfirm&&Object(n.jsx)(Xe.a.Text,{className:"text-danger",children:p.passwordConfirm.message})]}),Object(n.jsxs)(et.a,{variant:"primary",type:"submit",disabled:o,children:[o?"Loading":"Submit",o&&Object(n.jsx)(ze.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"ml-1"})]})]})]})})})},lt=a(132),ut=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.dayDetails})),a=t.days,s=t.loading;return Object(r.useEffect)((function(){e(function(){var e=Object(we.a)(Se.a.mark((function e(t,a){var n,r,s,c,o;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:ne}),n=a(),r=n.userAuth.token,s={headers:{Authorization:"Bearer ".concat(r)}},e.next=6,Ae.a.get("/api/v1/days",s);case 6:c=e.sent,o=c.data.data.days,t({type:re,payload:o}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:se,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}())}),[e]),Object(n.jsxs)(me.a,{className:"py-3",children:[Object(n.jsx)("h3",{className:"text-center mb-3",children:"Manage days"}),s?Object(n.jsx)(ze.a,{animation:"border",variant:"primary",style:{width:"50px",height:"50px"},className:"d-block mx-auto my-5"}):Object(n.jsxs)(lt.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"#"}),Object(n.jsx)("th",{children:"Day"}),Object(n.jsx)("th",{children:"Sections"}),Object(n.jsx)("th",{})]})}),Object(n.jsx)("tbody",{children:a.map((function(e,t){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:t+1}),Object(n.jsx)("td",{children:e.day}),Object(n.jsxs)("td",{children:[e.openHours.length," Sections"]}),Object(n.jsx)("td",{children:Object(n.jsx)(xe.Link,{to:"/admin/days/".concat(e._id,"/edit"),className:"btn btn-warning btn-sm",children:Object(n.jsx)("i",{className:"fas fa-edit"})})})]},e._id)}))})]})]})},dt=a(55),jt=function(e){var t=e.component,a=Object(dt.a)(e,["component"]),r=Object(i.c)((function(e){return e.userAuth})),s=r.isAuthenticated,c=r.loading;return Object(n.jsx)(ge.d,Object(j.a)(Object(j.a)({},a),{},{render:function(e){return s||c?Object(n.jsx)(t,Object(j.a)({},e)):Object(n.jsx)(ge.c,{to:{pathname:"/login",state:{from:e.location}}})}}))},pt=function(e){var t=e.component,a=e.allowed,r=Object(dt.a)(e,["component","allowed"]),s=Object(i.c)((function(e){return e.userAuth})),c=s.loading,o=s.user;return o||(o={role:""}),Object(n.jsx)(ge.d,Object(j.a)(Object(j.a)({},r),{},{render:function(e){return c||a.includes(o.role)?Object(n.jsx)(t,Object(j.a)({},e)):Object(n.jsx)(ge.c,{to:"/"})}}))},bt=function(e){var t=e.match,a=Object(i.b)(),s=Object(r.useState)([]),c=Object(Pe.a)(s,2),o=c[0],l=c[1],u=Object(i.c)((function(e){return e.dayDetails})),d=u.day,p=u.loading,b=u.error,h=u.success,O=Object(i.c)((function(e){return e.userAuth})).token,m=p||0===o.length,x=t.params.id;Object(r.useEffect)((function(){h&&(a(Re({text:h,type:"success"})),a((function(e){e({type:je})}))),b&&(a(Re({text:b,type:"danger"})),a((function(e){e({type:pe})})))}),[h,b,a]),Object(r.useEffect)((function(){a(function(e){return function(){var t=Object(we.a)(Se.a.mark((function t(a,n){var r,s,c,o,i;return Se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:ce}),r=n(),s=r.userAuth.token,c={headers:{Authorization:"Bearer ".concat(s)}},t.next=6,Ae.a.get("/api/v1/days/".concat(e),c);case 6:o=t.sent,i=o.data.data.day,a({type:oe,payload:i}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:ie,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()}(x))}),[a,x]),Object(r.useEffect)((function(){var e=!0;return d&&Object(we.a)(Se.a.mark((function t(){var a,n,r;return Se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ae.a.get("/api/v1/openhours",{headers:{Authorization:"Bearer ".concat(O)}});case 2:a=t.sent,n=a.data,r=n.data.openHours.map((function(e){return d.openHours.find((function(t){return t._id===e._id}))?Object(j.a)(Object(j.a)({},e),{},{selected:!0}):e})),e&&l(r);case 6:case"end":return t.stop()}}),t)})))(),function(){return e=!1}}),[d,O]);return Object(n.jsxs)("div",{className:"py-3",children:[Object(n.jsx)("h3",{className:"text-center mb-2",children:d&&d.day}),Object(n.jsxs)(Xe.a,{onSubmit:function(e){e.preventDefault();var t=o.filter((function(e){return e.selected})).map((function(e){return e._id}));l([]),a(function(e){return function(){var t=Object(we.a)(Se.a.mark((function t(a,n){var r,s,c,o,i,l;return Se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:le}),r=n(),s=r.userAuth.token,c=r.dayDetails.day,o={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s)}},t.next=6,Ae.a.patch("/api/v1/days/".concat(c._id),{openHours:e},o);case 6:i=t.sent,l=i.data.data,a({type:ue,payload:{day:l.day,success:"Day updated successfully"}}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:de,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()}(t))},children:[m?Object(n.jsx)(ze.a,{animation:"border",variant:"primary",style:{width:"50px",height:"50px"},className:"d-block mx-auto my-5"}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(ke.LinkContainer,{to:"/admin/days",children:Object(n.jsx)(et.a,{variant:"light",className:"my-2",children:"Go Back"})}),Object(n.jsx)(Ie.a,{children:o.map((function(e){return Object(n.jsx)(Te.a,{xs:6,md:3,className:"my-2  text-md-left",children:Object(n.jsx)(Xe.a.Check,{type:"checkbox",label:e.time,checked:e.selected||!1,onChange:function(){return function(e){return l(o.map((function(t){return t._id===e?Object(j.a)(Object(j.a)({},t),{},{selected:!t.selected}):t})))}(e._id)}})},e._id)}))})]}),Object(n.jsxs)(et.a,{variant:"primary",className:"mt-3",type:"submit",disabled:m,children:[m?"Loading":"Submit",m&&Object(n.jsx)(ze.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"ml-1"})]})]})]})},ht=a(85),Ot=a.n(ht),mt=function(e){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date(e).getDay()]},xt=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.allBookings})),a=t.loading,s=t.bookings,c=t.allTotal,o=t.error,l=Object(i.c)((function(e){return e.bookingApprove})),u=l.bookingId,d=l.loading,j=l.error,p=l.success,b=Object(i.c)((function(e){return e.bookingDelete})),h=b.bookingId,O=b.loading,m=b.error,x=b.success,g=Object(r.useState)(50),f=Object(Pe.a)(g,2),y=f[0],v=f[1],k=Object(r.useState)(1),E=Object(Pe.a)(k,2),S=E[0],w=E[1];Object(r.useEffect)((function(){e(Ye(y,S))}),[e,y,S]),Object(r.useEffect)((function(){p&&(e(Re({text:p,type:"success"})),e(Ye(y,S)),e(Me())),j&&(e(Re({text:j,type:"danger"})),e(Ye(y,S)),e(Me()))}),[p,j,e]),Object(r.useEffect)((function(){x&&(e(Re({text:x,type:"success"})),e(Ye(y,S)),e(Qe())),m&&(e(Re({text:m,type:"danger"})),e(Ye(y,S)),e(Qe()))}),[x,m,e]),Object(r.useEffect)((function(){o&&(e(Re({text:o,type:"danger"})),e((function(e){e({type:M})})))}),[o,e]);var _=function(t){window.confirm("Approve this booking?")&&e(function(e){return function(){var t=Object(we.a)(Se.a.mark((function t(a,n){var r,s,c;return Se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:Q,payload:e}),r=n(),s=r.userAuth.token,c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s)}},t.next=6,Ae.a.patch("/api/v1/bookings/".concat(e),{status:"confirmed"},c);case 6:a({type:V,payload:"Booking approved successfully."}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:Z,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,a){return t.apply(this,arguments)}}()}(t))},A=function(t){window.confirm("Delete this booking?")&&e(function(e){return function(){var t=Object(we.a)(Se.a.mark((function t(a,n){var r,s,c;return Se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:J,payload:e}),r=n(),s=r.userAuth.token,c={headers:{Authorization:"Bearer ".concat(s)}},t.next=6,Ae.a.delete("/api/v1/bookings/".concat(e),c);case 6:a({type:$,payload:"Booking deleted successfully."}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:X,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,a){return t.apply(this,arguments)}}()}(t))};return Object(n.jsxs)(me.a,{className:"py-3",children:[Object(n.jsx)("h3",{className:"text-center mb-3",children:"Manage bookings"}),Object(n.jsxs)(Xe.a.Group,{controlId:"perPage",className:"float-right",children:[Object(n.jsx)(Xe.a.Label,{children:"Per page"}),Object(n.jsxs)(Xe.a.Control,{as:"select",size:"sm",value:y,onChange:function(e){return v(1*e.target.value)},children:[Object(n.jsx)("option",{value:50,children:"50"}),Object(n.jsx)("option",{value:100,children:"100"}),Object(n.jsx)("option",{value:150,children:"150"})]})]}),a?Object(n.jsx)(ze.a,{animation:"border",variant:"primary",style:{width:"50px",height:"50px"},className:"d-block mx-auto my-5"}):Object(n.jsxs)(lt.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"#"}),Object(n.jsx)("th",{children:"User"}),Object(n.jsx)("th",{children:"Date"}),Object(n.jsx)("th",{children:"Time"}),Object(n.jsx)("th",{children:"Status"}),Object(n.jsx)("th",{})]})}),Object(n.jsx)("tbody",{children:s.map((function(e,t){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:t+1}),Object(n.jsxs)("td",{children:[e.user.name," (",e.user.email,")"]}),Object(n.jsxs)("td",{children:[Fe(e.date)," (",mt(e.date),")"]}),Object(n.jsx)("td",{children:e.time.time}),Object(n.jsx)("td",{children:e.status}),Object(n.jsxs)("td",{children:["pending"===e.status&&Object(n.jsx)(et.a,{variant:"success",size:"sm",className:"mr-1 mb-1",onClick:function(){return _(e._id)},disabled:d&&u===e._id,children:d&&u===e._id?Object(n.jsx)(ze.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}):Object(n.jsx)("i",{className:"fas fa-check-circle"})}),Object(n.jsx)(et.a,{variant:"danger",size:"sm",onClick:function(){return A(e._id)},disabled:O&&h===e._id,children:O&&h===e._id?Object(n.jsx)(ze.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}):Object(n.jsx)("i",{className:"fas fa-trash"})})]})]},e._id)}))})]}),Object(n.jsx)(Ot.a,{pageCount:Math.ceil(c/y),pageRangeDisplayed:3,marginPagesDisplayed:2,onPageChange:function(e){w(e.selected+1)},initialPage:S-1,containerClassName:"pagination justify-content-sm-center overflow-auto",pageClassName:"page-item",pageLinkClassName:"page-link",activeClassName:"active",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",breakClassName:"page-item",breakLinkClassName:"page-link"})]})},gt=function(){var e=Object(i.b)();return Object(r.useEffect)((function(){e(function(){var e=Object(we.a)(Se.a.mark((function e(t,a){var n,r,s,c,o;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t({type:x}),n=a(),r=n.userAuth.token){e.next=5;break}throw new Error;case 5:return s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)}},e.next=8,Ae.a.get("/api/v1/users/me",s);case 8:c=e.sent,o=c.data.data.user,t({type:g,payload:o}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),localStorage.removeItem("token"),t({type:f,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,a){return e.apply(this,arguments)}}())}),[e]),Object(n.jsx)(xe.BrowserRouter,{children:Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(Le,{}),Object(n.jsxs)(me.a,{children:[Object(n.jsx)(De,{}),Object(n.jsx)(ge.d,{path:"/",component:Je,exact:!0}),Object(n.jsx)(jt,{path:"/profile",component:st}),Object(n.jsx)(jt,{path:"/confirm-booking",component:ct}),Object(n.jsx)(ge.d,{path:"/login",component:ot}),Object(n.jsx)(ge.d,{path:"/signup",component:it}),Object(n.jsx)(pt,{path:"/admin/days",component:ut,allowed:["admin"],exact:!0}),Object(n.jsx)(pt,{path:"/admin/days/:id/edit",component:bt,allowed:["admin"]}),Object(n.jsx)(pt,{path:"/admin/bookings",component:xt,allowed:["admin"],exact:!0})]})]})})},ft=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,139)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),s(e),c(e)}))};o.a.render(Object(n.jsx)(i.a,{store:Oe,children:Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(gt,{})})}),document.getElementById("root")),ft()},99:function(e,t,a){}},[[124,1,2]]]);
//# sourceMappingURL=main.b077c612.chunk.js.map